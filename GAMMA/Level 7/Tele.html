<!doctype HTML>
<html>
<script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
<script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.0/aframe/build/aframe-ar.js"></script>

<body style='margin : 0px; overflow: hidden;'>
	<a-scene renderer="gammaOutput: true" embedded arjs='sourceType: webcam; detectionMode: mono; matrixCodeType: 3x3; detectionMode: mono_and_matrix; maxDetectionRate: 30; canvasWidth: 240; canvasHeight: 180; debugUIEnabled: false;' vr-mode-ui="enabled: false">
  <a-assets>				
 		<a-asset-item id="model" src="https://www.wordsworthlearning.com/aha-ar_dev/main/ar/level7/-asm.gltf" ></a-asset-item> 
 	</a-assets>
 
   <a-marker type='barcode' value='7'>
		
		<a-entity gltf-model="#model" model-animator rotation-change
			scale="0.5 0.5 0.5" 
			position="0 0.5 0"
			rotation="0 0 0"
			animation-mixer="loop:repeat">
		</a-entity>
		
      
    </a-marker>

  </a-scene>
  
	<script src="https://cdn.rawgit.com/doctor-emmet/AHA-AR/master/GAMMA/Level%207/tele.gltf"></script>
    	
	<script>	

	
		$(document).ready(function () {
	//		document.getElementsByClassName("rs-base").style.display = "none";
	console.log("Boop");
			$('.rs-base').hide().delay(800);
		});
	
	
		var model = document.getElementById('model-animator');
		var showingLetter = false;
		var mobileDevice = true;
	
		var md = new MobileDetect(window.navigator.userAgent);
		
		console.log("Mobile: "+md.mobile());
		console.log("Phone: "+md.phone());
		console.log("Tablet: "+md.tablet());
		
		alert("Mobile: "+md.mobile());
		alert("Phone: "+md.phone());
		alert("Tablet: "+md.tablet());
		
		if(md.mobile() == null){
			alert("Not Mobile device");
			console.log("Not mobile device")
			mobileDevice = false
				
		}else{
			mobileDevice = true; 
			alert("Mobile device");
			console.log("Mobile device")
		}
		
console.log( md.mobile() );          // 'Sony'
console.log( md.phone() );           // 'Sony'
console.log( md.tablet() );          // null
console.log( md.userAgent() );       // 'Safari'
console.log( md.os() );              // 'AndroidOS'
console.log( md.is('iPhone') );      // false
console.log( md.is('bot') );         // false
console.log( md.version('Webkit') );         // 534.3
console.log( md.versionStr('Build') );       // '4.1.A.0.562'
console.log( md.match('playstation|xbox') );

		function setVisible(item) {
		  item.setAttribute('visible', 'true');
		}

		function setInvisible(item) {
		  item.setAttribute('visible', 'false');
		}
		
		//This works but also need an animation-rotation change and a height change maybe
		if(!mobileDevice){
			AFRAME.registerComponent('rotation-change', {
				
				init: function () {
						mobileDevice = false
						this.el.setAttribute('rotation', '-90 0 0')
						this.el.setAttribute('position', '-1 0 -1'); //computer
					}
			});
		}
	
	</script>
</body>
</html>